@prefix dpv: <http://www.w3.org/ns/dpv#>.
@prefix odrl: <http://www.w3.org/ns/odrl/2/>.
@prefix ex: <http://example.org/>.
@prefix dct: <http://purl.org/dc/terms/>.

<urn:uuid:prefences-policy> a odrl:Offer;
  dct:description "Instantiated policy that allows shopping preferences to be read to show alternative products.";
  odrl:permission <urn:uuid:preference-permission>.

<urn:uuid:preference-permission> a odrl:Permission;
  odrl:action odrl:read;
  odrl:target ex:preferences; # TBD: the actual location is still required
  odrl:assignee ex:delfour;
  odrl:assigner <https://ruben.verborgh.org/profile/#me>;
  odrl:duty <urn:uuid:delete-duty> ;
  odrl:constraint <urn:uuid:purposeConstraint>.

<urn:uuid:purposeConstraint> a odrl:Constraint;
  odrl:leftOperand odrl:purpose;
  odrl:operator odrl:eq;
  odrl:rightOperand dpv:ProvideProductRecommendations.

<urn:uuid:delete-duty> a odrl:Duty;
  odrl:action odrl:delete;
  odrl:target ex:preferences; # TBD: the actual location is still required
  odrl:assignee ex:delfour;
  odrl:assigner <https://ruben.verborgh.org/profile/#me>;
  odrl:constraint <urn:uuid:temporalConstraint>.

<urn:uuid:temporalConstraint> a odrl:Constraint;
  odrl:leftOperand odrl:dateTime;
  odrl:operator odrl:lt;
  odrl:rightOperand "2024-02-12T11:20:10.999Z"^^<http://www.w3.org/2001/XMLSchema#dateTime>. # NOTE: should represent the timestamp after scanner is put back in place; This time could be better encoded with the dynamic policy feature (but for now that might complicate stuff) 